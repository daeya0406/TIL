## 알아두면 유용한 제네릭 타입들

### JavaScript 기능들

#### querySelector()
기본적으로 어떤 DOM 노드가 리턴될지 모르기 때문에 `HTMLElement`라는 일반적인 타입으로 정의된다.  
하지만 타입을 확신할 수 있는 경우에는 아래 코드처럼 직접 제네릭 타입을 정의할 수 있다.

```ts
const elem = document.querySelector<HTMLInputElement>('input.username');
```

---

#### Map
키와 밸류를 갖는 자료구조이다. 타입 파라미터로 키와 밸류의 타입을 정의할 수 있다.

```ts
const productMap = new Map<string, Product>();
productMap.set(product1.id, product1);
productMap.set(product2.id, product2);
```

---

#### Set
배열과 비슷하지만 중복된 요소를 추가할 수 없는 집합 자료구조  
타입 파라미터로 요소의 타입을 정의할 수 있다.

```ts
const productSet = new Set<Product>();
productSet.add(product1);
productSet.add(product2);
```

---

### 💡 유용한 타입들

#### Record — 키와 밸류 정하기
객체에 키와 밸류 타입을 정해놓고 싶을 때 사용한다.  
Map과 비슷하지만 순수한 객체에 타입만 추가한다.

```ts
const productMap: Record<string, Product> = {};
productMap['c001'] = product1;
productMap['c002'] = product2;
```

---

#### Pick — 객체 프로퍼티 고르기

```ts
interface Product {
  id: string;
  name: string;
  price: number;
  membersOnly?: boolean;
}

type ProductInfo = Pick<Product, 'name' | 'price'>;

// 결과
type ProductInfo = {
  name: string;
  price: number;
};
```

---

#### Omit — 객체의 프로퍼티 생략하기

```ts
interface Product {
  id: string;
  name: string;
  price: number;
  membersOnly?: boolean;
}

type ProductInfo = Omit<Product, 'id' | 'membersOnly'>;

// 결과
type ProductInfo = {
  name: string;
  price: number;
};
```

---

#### Exclude — Union 제거하기

```ts
type Coupon =
  | PromotionCoupon
  | EmployeeCoupon
  | WelcomCoupon
  | RewardCoupon;

type InternalCoupon = EmployeeCoupon;
type PublicCoupon = Exclude<Coupon, InternalCoupon>;

// 결과
// type PublicCoupon = PromotionCoupon | WelcomCoupon | RewardCoupon
```

---

#### Parameters — 함수 파라미터 타입 가져오기

```ts
function addToCart(id: string, quantity: number = 1): boolean {
  return true;
}

type AddToCartParameters = Parameters<typeof addToCart>;

// 결과
// type AddToCartParameters = [id: string, quantity: number | undefined]
```

---

#### ReturnType — 함수 리턴 타입 가져오기

```ts
function addToCart(id: string, quantity: number = 1): boolean {
  return true;
}

type AddToCartResult = ReturnType<typeof addToCart>;

// 결과
// type AddToCartResult = boolean
```

---


### 🧭 상황별 제네릭 요약표

| 상황 | 쓸 수 있는 제네릭 |
|------|----------------|
| 객체에서 특정 키만 쓰고 싶다 | `Pick` |
| 객체에서 몇 개 키를 빼고 싶다 | `Omit` |
| Map처럼 키/값 타입을 정하고 싶다 | `Record` |
| Union 타입 중 일부만 제외하고 싶다 | `Exclude` |
| 함수의 파라미터 타입이 필요하다 | `Parameters` |
| 함수의 리턴 타입이 필요하다 | `ReturnType` |

---

**정리**
- 제네릭은 다양한 타입을 유연하게 다루는 핵심 문법
- DOM, 자료구조(Map, Set), 유틸리티 타입(Record, Pick, Omit 등)에서 광범위하게 활용됨
- 타입 안정성을 높이면서 코드 재사용성 향상
