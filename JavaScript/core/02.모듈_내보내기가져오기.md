# 모듈 내보내기와 가져오기 (export / import)

---

## 1. 선언부 앞에 export

변수, 함수, 클래스 선언부 앞에 `export` 붙이면 바로 내보낼 수 있음.  
함수/클래스 선언 끝에는 세미콜론 붙이지 않음.

```js
// 배열 내보내기
export let months = ["Jan", "Feb", "Mar", "Apr"];

// 상수 내보내기
export const MODULES_BECAME_STANDARD_YEAR = 2015;

// 클래스 내보내기
export class User {
  constructor(name) {
    this.name = name;
  }
}

// 함수 내보내기
export function sayHi(user) {
  console.log(`Hello, ${user}!`);
}
```

---

## 2. 선언부와 export 분리

선언 먼저 하고 마지막에 모아서 export 가능.

```js
function sayHi(user) {
  console.log(`Hello, ${user}!`);
}

function sayBye(user) {
  console.log(`Bye, ${user}!`);
}

export { sayHi, sayBye }; // 묶어서 내보내기
```

---

## 3. 가져오기 방법

### 3-1. 개별 가져오기

```js
import { sayHi, sayBye } from "./say.js";

sayHi("John");
sayBye("John");
```

### 3-2. 한꺼번에 객체로 가져오기

```js
import * as say from "./say.js";

say.sayHi("John");
say.sayBye("John");
```

> 하지만 **트리 셰이킹**(빌드 시 불필요한 코드 제거)을 위해 필요한 것만 골라 가져오는 게 권장됨.

---

## 4. as 별칭 사용

### 4-1. import 시 이름 바꾸기

```js
import { sayHi as hi, sayBye as bye } from "./say.js";

hi("John");
bye("John");
```

### 4-2. export 시 이름 바꾸기

```js
function sayHi(user) { ... }
function sayBye(user) { ... }

export { sayHi as hi, sayBye as bye };
```

```js
import * as say from "./say.js";
say.hi("John");
say.bye("John");
```

---

## 5. export default

모듈이 **하나의 주요 개체만 내보낼 때** 사용.  
파일당 **1개만** 가능, 중괄호 `{}` 없이 가져옴.

```js
// 📁 user.js
export default class User {
  constructor(name) {
    this.name = name;
  }
}
```

```js
// 📁 main.js
import User from "./user.js"; // {User}가 아님
new User("John");
```

### 특징

- default export는 이름이 없어도 됨

```js
export default function(user) { console.log(`Hi, ${user}`); }
export default ['Jan', 'Feb', 'Mar'];
```

- 가져올 때 이름은 자유롭게 지을 수 있음

```js
import User from "./user.js";
import MyUser from "./user.js"; // 가능
```

- 하지만 일관성을 위해 보통 **파일명과 같은 이름** 사용

---

## 6. 모듈 다시 내보내기 (re-export)

다른 모듈에서 가져온 것을 그대로 다시 내보내기.

```js
// 📁 auth/index.js
export { login, logout } from "./helpers.js";
export { default as User } from "./user.js";
```

- `export * from` 은 **named export만** 다시 내보냄 (default는 무시됨)

```js
export * from "./user.js"; // named export만
export { default } from "./user.js"; // default export도 함께
```

---

## 7. 요약

### export 종류

```js
// 선언부 앞에
export class User {}
export default class User {}

// 모아서 내보내기
export { x, y };
export { x as y };

// 다시 내보내기
export { x } from "mod";
export * from "mod";
export { default as X } from "mod";
```

### import 종류

```js
// named export
import { x, y } from "mod";
import { x as y } from "mod";

// default export
import x from "mod";
import { default as x } from "mod";

// 전체 가져오기
import * as obj from "mod";

// 실행만 하고 변수 할당 X
import "mod";
```

---
